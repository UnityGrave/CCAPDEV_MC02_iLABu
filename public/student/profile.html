<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" content="Genota K. A., Sales, L.M., & Trias, L. I. (2024)">
        <meta name="description" content="CCAPDEV S19 MCO: Lab Reservation System">
        <link rel="icon" type="image/x-icon" href="icon.ico">
        <title>Profile</title>
        <link rel="stylesheet" type="text/css" href="../css/profile.css">
        <link id="light-theme" rel="stylesheet" type="text/css" href="../css/dashboard.css">
        <link id="dark-theme" rel="stylesheet" type="text/css" href="../css/darkmode.css" disabled>
        <script defer src="dashboard.js"></script>
    </head>
    <body>
        <header>
            <a href="/dashboard" target="_self">
                <img id="logo"src="../images/logo.png" alt="iLABu logo" height="100">
            </a>
            <h1>Account Information</h1>
            <div id="icons">
                <label for="optionsCheckbox" id="optionsIcon"></label>
            </div>
        </header>
        <input type="checkbox" id="optionsCheckbox">
        <ul id="options">
            <a href="settings.html" target="_blank"><li>Settings</li></a>
            <input type="checkbox" id="darkmode">
            <label for="darkmode" id="darkbutton"><li>Dark Mode</li></label>
            <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ" target="_blank"><li>Remove Ads</li></a>
            <!-- <a href="#" target="_blank"><li>Credits</li></a> -->
            <a href="../dashboard.html" target="_self"><li>Log Out</li></a>
        </ul>
        <main>
            <div class = "profile-container">
                <img id="pfp" src="https://lumiere-a.akamaihd.net/v1/images/marvel-thrawn-alliances-1-preview-article-feature_d5e0ed23.jpeg?region=0,0,1600,900" alt="profile-pic" width="150">
                                <ul class="categories">
                                    <li>Last Name: </li>
                                    <li>First Name: </li>
                                    <li>Middle Name: </li>
                                    <li>Degree Program: </li>
                                    <li>College: </li>
                                    <li>Email Address: </li>
                                    <li>Bio: </li>
                                </ul>
                                <ul class = "filled">
                                    <li>Mitth'raw'nuruodo</li>
                                    <li>Thrawn</li>
                                    <li>Vurawn</li>
                                    <li>Doctor of Fine Arts</li>
                                    <li>Graduate Studies</li>
                                    <li>grand_admiral_thrawn@dlsu.edu.ph</li>
                                    <li>Long live the Empire.</li>
                                </ul>
                            </div>
                            <div class="reservations-container">
                                <h2>Reservations:</h2>
                                <script id="reservations-template" type="text/x-handlebars-template">
                                    <ul id="reservations-container">
                                    {{#each reservations}}
                                    <a href="/{{roomnumber}}" style="background-image: url(../images/{{roomnumber}}.png);">
                                        <li>
                                            <h3>{{roomnumber}}</h3>
                                            <p>{{date}}</p>
                                            <p>{{startTime}} - {{endTime}}</p>
                                        </li>
                                    </a>
                                    {{/each}}
                                    </ul>
                                </script>
                                <script>
                                    document.addEventListener('DOMContentLoaded', async function() {
                                        const response = await fetch('/reservations'); // Replace with your reservations endpoint
                                        const data = await response.json();
                            
                                        const reservationsContainer = document.getElementById('reservations-container');
                                        const templateSource = document.getElementById('reservations-template').innerHTML;
                                        const template = Handlebars.compile(templateSource);
                                        reservationsContainer.innerHTML = template({ reservations: data });
                                    });
                                    
                                </script>
                            </div>
        </main>
        </body>
    </html>